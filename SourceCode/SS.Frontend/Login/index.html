<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com/ https://code.jquery.com/; style-src 'self' 'unsafe-inline'; connect-src 'self' http://localhost:8081 http://localhost:5270 http://localhost:5099 http://localhost:5005 http://localhost:5001 http://localhost:8081 https://localhost:7017 http://localhost:5112 http://localhost:5275 http://localhost:8089 http://localhost:5279 http://localhost:5048; img-src 'self' data:;">
     <link rel="stylesheet" href="spaceBookingCenter.css"> 
    <link rel="stylesheet" href="style.css">
     <link rel="stylesheet" href="PersonalOverviewStyle.css">
    <!--<link rel="stylesheet" href="/Waitlist/style.css"> -->
    <script src="UserProfile.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


</head>

<body class = "main-content">
    <header>
        
        <nav>
            <div class="header-content">
                <div>
                    <img src="images/sslogo.png" alt="Logo" class="header-logo flipped-image">
                </div>
                <div>
                    <img src="images/outlineSS.png" alt="Title" class="header-title">
                </div>
            </div>
            <div class="nav-container">
                <div id="noLogin" class="nav-items"  style="display: none;">
                    <div class="nav-item" id="navAbout" onclick="getAbout()">About</div>
                    <div class="nav-item" id="navRegister" onclick="window.location.href='../Registration/index.html'">Register</div>
                    <div class="nav-item" id="navLogin" onclick="getLogin()">Login</div>
                </div>
                <div id="homepageGen" class="nav-items" style="display: none;">
                    <div class="nav-item" type="button" onclick="getHomePage()">Home</div>
                    <div class="nav-item" type="button" onclick="getUserProfile()">Profile</div>
                    <div class="nav-item" type="button" onclick="spaceBookingCenterAccess()">Space Booking Center</div>
                    <div class="nav-item" type="button" onclick="waitlistAccess()">Waitlist</div>
                    <div class="nav-item" type="button" onclick="personalOverviewAccess()">Personal Overview</div>
                    <div class="nav-item" type="button" onclick="taskHubAccess()" data-testid="task-view">Task Manager Hub</div>
                    <div class="nav-item" type="button" id="identity"></div>
                    <div class="nav-item" type="button" onclick="logout()">Logout</div>
                </div>
            </div>

        </nav>
    </header>

    

    <section id="sendOTPSection" style="display: none;">
        <div class="container">
            <section id="sendOTPSection" class="loginForm">
                <form id="sendOTPForm">
                    <label for="userIdentity" class="login-title">Login!</label>
                    <input type="text" id="userIdentity" name="userIdentity" required placeholder="Enter your username">
                    <button type="button" onclick="sendOTP()">Send Verification</button>
                    <a href="#" class="recover-link">Recover an account</a>
                    <a href="#" class="recover-link">Don't have an account? Register Now!</a>
                </form>
            </section>
            <!-- <div class="welcome-label">
                Welcome to SpaceSurfer!
            </div> -->
            <img src="images/astroText.png" alt="Astro" class = "hovering">

        </div>
    </section>
    <section id="UnAuthnAbout" style="display: none;">
        <div class="container">
            <section id="sendOTPSection" class="loginForm">
                <form id="sendOTPForm">
                    <label class="login-title">About</label>
                    <a>Welcome to Space Surfer - Your Premier Space Reservation Platform!
                        Who We Are
                        Space Surfer is a cutting-edge platform designed to simplify the way individuals and businesses reserve spaces for various purposes. Whether you're booking a conference room, securing a spot in a co-working space, or claiming a seat at a local event, Space Surfer offers a seamless, intuitive reservation experience that puts your convenience first.
                        
                        Our Mission
                        Our mission at Space Surfer is to revolutionize space booking by making it as easy and stress-free as possible. We believe that finding and securing the right space, whether for work, leisure, or special events, should be straightforward and hassle-free. Space Surfer leverages advanced technology to connect space providers with users, ensuring efficient transactions and satisfied outcomes.
                        
                        What We Offer
                        Space Surfer provides a wide array of features designed to enhance your booking experience:
                        
                        Real-Time Availability: See up-to-date space availability to ensure you can book the space you need, when you need it.
                        Diverse Locations: Access a variety of spaces across multiple locations worldwide. Whether you're local or traveling, find a space that suits your needs.
                        Flexible Booking Options: From hourly reservations to long-term leases, choose the booking option that best fits your schedule and budget.
                        User-Friendly Interface: Our platform is designed with user experience in mind. Navigate our site with ease and book your space in just a few clicks.
                        Secure Transactions: Your security is our top priority. We provide a secure platform for all transactions, safeguarding your personal and financial information.
                        How It Works
                        Booking your space with Space Surfer is as simple as:
                        
                        Search: Enter your location and date to see available spaces.
                        Select: Choose the space that meets your criteria.
                        Book: Reserve your space through our secure checkout process.
                        Use: Enjoy your reserved space and manage your booking through our user-friendly dashboard.
                        Our Vision
                        Looking ahead, Space Surfer aims to expand its reach by incorporating more diverse spaces and offering enhanced features that anticipate and meet our users' evolving needs. We are committed to continuous improvement and innovation to remain at the forefront of the space reservation industry.
                        
                        Join Us
                        Ready to get started? Join Space Surfer today and experience the ultimate in space booking convenience. For questions or further information, please contact us at support@spacesurfer.com.
                        
                        Thank you for choosing Space Surfer â€” where your space is just a click away!</a>
                </form>
            </section>
            <!-- <div class="welcome-label">
                Welcome to SpaceSurfer!
            </div> -->
            <img src="images/astronaut.png" alt="Astro" class = "hovering">

        </div>
    </section>

    <section id="welcomeSection" style="display: none;">
        <div class="container">
            <img src="images/astronaut.png" alt="Astro" class="header-title">
        </div>
    </section>

    <section id="enterOTPSection" class="form-container" style="display: none;">
        <form id="enterOTPForm">
            <label for="otp">Enter Verification Code</label>
            <input type="text" id="otp" name="otp" required placeholder="Verification code">
            <button type="button" onclick="authenticateUser()">Login</button>
        </form>
    </section>

    <section id="successResult" class="form-container" style="display: none;">
        <label style="color:#03fc52; font-size: 18px;">Authentication was successful!</label>
    </section>

    <section id="failResult" class="form-container" style="display: none;">
        <label style="color: #e33434; font-size: 18px;">Incorrect verification code. Please double-check and try again.</label>
    </section>
    <!--General Homepage-->
    

    <section id="userProfileView" class="homepage-container" style="display: none;">
        <div class="userProfileContainer">
            <div class="profile">
                <div id="leftPanel" class="left-panel">
                </div>
                <div class="right-panel">
                    <button class="edit-button" onclick="toggleEdit()">Edit Profile</button>
                    <div id="accountDetails" class="account-details">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Personal Overview Center View-->
    <section id="personalOverviewCenter" class="homepage-container" style="display: none;">
        <h2>Welcome to SpaceSurfers!</h2>
        <div id="calendar-container">
            <h3 id="POC">Personal Overview Center</h3>
            <div id="calendar-header">
                <button id="calendar-button">Calendar</button>
                <button id="list-button">List</button>
            </div>
            <div id="date-filter">
                <label for="from-date">From:</label>
                <input type="date" id="from-date">
                <label for="to-date">To:</label>
                <input type="date" id="to-date">
            </div>
            <button id="confirm-button">Confirm Selection</button>

            <div id="calendar">
                <div id="month-info-container">
                    <div id="prev-month">&lt;</div>
                    <div id="month-year"></div>
                    <div id="next-month">&gt;</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Sun</th>
                            <th>Mon</th>
                            <th>Tue</th>
                            <th>Wed</th>
                            <th>Thu</th>
                            <th>Fri</th>
                            <th>Sat</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div style=" border: groove; border-radius: 100px;" id="reservation-list">
            </div>
        </div>
        <div>
            <form id="delete-reservation-form" class="delete-form">
                <label for="reservation-id">Enter Reservation ID to Delete:</label>
                <input type="number" id="reservation-id" name="reservation-id" required>
                <button type="button" id="reservation-delete-button">Delete Reservation</button>
            </form>

        </div>

    </section>

    <div id="modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-button">Ã—</span>
            <!-- <h2>Message</h2> -->
            <p id="modal-message">Your message goes here.</p>
        </div>
    </div>

    <section id="spaceBookingView" class="homepage-container" style="display: none;">
        <button id="initAppButton">Initialize spaceBookingCenter</button>
        <button type="button" onclick="personalOverviewAccess()">PersonalOverview</button>
        <div id="accessTokenContainer"></div>
        <div class="space-booking-center-container">
            <div class="sidebar"></div>
            <div class="dynamic-content">
                <div class="reservation-buttons"></div>
                <div class="reservation-list"></div>
            </div>
            <div class="space-booking-center-container">
                <div class="company-info">
                    <div id="companies">
                        <h2>Companies</h2>
                        <ul id="companiesList"></ul>
                    </div>
                    <div id="floorPlans">
                        <h2>Floor Plans</h2>
                        <div id="floorPlansContent"></div>
                    </div>
                </div>
                <div class="space-form-container" id="space-form-container"></div>
            </div>
        </div>
        <div>
            <button type="button" onclick="logout()">Logout</button>
        </div>
    </section>

    <!--Waitlist View-->
    <section id="waitlistView" class="homepage-container" style="display: none;">
        <button id="initWaitlistButton">Initialize Waitlist</button>
        <div class="container">
            <div class="reservations-container content-container">
                <h2>Waitlisted Reservations</h2>
                <ul id="reservations-list">
                </ul>
            </div>
            <div class="reservation-details-container content-container">
                <h2>Reservation Details</h2>
                <div id="reservation-details">
                </div>
            </div>
        </div>
    </section>

    <!--Task Manager View-->>
    <section id="taskManagerView" class="homepage-container" style="display: none;">
        <div id="registerView" class="task-container">
            <div id="accountCreationForm" class="flex-container">
    
                <!-- Task List Container -->
                <div class="task-list-section">
                    <h2>Task Manager HubðŸ¤™</h2>
                    <button id="viewTasksBtn" type="button">View Tasks</button>
                    <button id="ScoreTasks" type="button">View Tasks By Priority</button>
                    <select id="priorityFilter">
                        <option value="all">All Priorities</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                    <button id="filterTasksBtn" type="button">Filter Tasks</button>
                    <ul id="taskList"></ul>
                    <div id="activeTasks" class="task-list-section">
                        <h4>Active Tasks</h4>
                        <ul id="taskListActive"></ul>
                    </div>
                    <div id="completedTasks" class="task-list-section">
                        <h4>Completed Tasks</h4>
                        <ul id="taskListCompleted"></ul>
                    </div>
                </div>
                
                
    
                <!-- Task Creation Form -->
                <div class="task-form-section">
                    <h2>Create Task</h2>
                    <form id="createTaskForm">
                        <div>
                            <label for="taskTitle">Task:</label>
                            <input type="text" id="taskTitle" name="title" required data-testid="task-title-input">
                        </div>
                        <div>
                            <label for="taskDescription">Description:</label>
                            <textarea id="taskDescription" name="description" required></textarea>
                        </div>
                        <div>
                            <label for="taskDueDate">Due Date:</label>
                            <input type="date" id="taskDueDate" name="dueDate" required>
                        </div>
                        <div>
                            <label for="taskPriority">Priority:</label>
                            <select id="taskPriority" name="priority">
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Low">Low</option>
                            </select>
                        </div>
                        <!-- <div>
                            <label for="taskNotificationSetting">Notification Setting:</label>
                            <input type="number" id="taskNotificationSetting" name="notificationSetting" required>
                        </div> -->
                        <button type="submit" id="createTaskBtn" data-testid="submit-task-button">Create Task</button>
                    </form>

                    <div id="modifyTaskFormContainer" style="display: none;">
                        <h2>Modify Task</h2>
                        <form id="modifyTaskForm">
                            <div>
                                <strong style="font-size: 25px;">Editing Task: </strong> <span id="modTitle" style="font-size: 25px;"></span>
                            </div>
                            <div>
                                <label for="modDescription">Description:</label>
                                <textarea id="modDescription"></textarea>
                            </div>
                            <div>
                                <label for="modDueDate">Due Date:</label>
                                <input type="date" id="modDueDate" required>
                            </div>
                            <div>
                                <label for="modPriority">Priority:</label>
                                <select id="modPriority">
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                            <!-- <div>
                                <label for="modNotificationSetting">Notification Setting:</label>
                                <input type="number" id="modNotificationSetting" required>
                            </div> -->
                            <button type="submit">Submit Changes</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    






    

    <!--Manager Homepage-->
    <section id="homepageManager" class="homepage-container" style="display: none;">
        <button type="button" onclick="spaceBookingCenterAccess()">Space Booking Center</button>
        <button type="button" onclick="waitlistAccess()">Waitlist</button>
        <button type="button" onclick="personalOverviewAccess()">PersonalOverview</button>
        <button type="button" onclick="taskHubAccess()">Task Manager Hub</button>
        <button type="button" onclick="logout()">Logout</button>

        <!--<div class="uplaodSection">-->
        <!-- Space Manager -->
        <!--<button class="accordion">Upload Space</button>
        <div class="form-container" style="display:none;">
            <form id="spaceCreationForm">
                <div class="spaceRow">
                    <input type="file" id="imageUpload" name="imageUpload" accept="image/*">
                    <small>Max file size: 5MB</small>
                    <input type="text" id="floorPlanName" name="floorPlanName" placeholder="Floor Plan Name" required><br />
                    <input type="hidden" id="imageBase64" name="imageBase64">
                </div>
                <div id="imagePreviewContainer"></div><br>
                <button type="button" id="addSpace">Add Space ID</button><br />
                <div id="spacesContainer">
                    <div class="spaceRow">
                        <input type="text" class="spaceID" name="spaceID[]" placeholder="Space ID">
                        <input type="text" class="timeLimit" name="timeLimit[]" placeholder="Time Limit">
                    </div>
                </div>

                <button id="postSpace" type="submit">Create Space</button>
                <button id="loadRequestsButton" type="button">Load Requests</button>
                <ul id="recoveryRequestsList"></ul>
            </form>
        </div>
    </div>-->
        <!--<div class="modifySection">
        <button class="accordion">Modify Space</button>
        <div class="form-container" style="display:none;">
            <form id="modifySpaceForm">
                <h3>Warning: CANNOT Modify Space if an existing Reservation Associated Exists</h3>
                <div class="spaceRowModify">
                    <input type="text" id="modifyFloorPlanName" name="floorPlanName" placeholder="Floor Plan Name"><br />
                    <input type="file" id="replaceImage" name="replaceImage" accept="image/*">
                    <button id="modifyImage" type="button" class="btn btn-modify">Replace Floor Plan Image - Max file size: 5MB</button>
                    <input type="hidden" id="modifyImageBase64" name="modifyImageBase64">
                    <button id="deleteFloor" type="button" class="btn btn-danger">Delete Floor</button>
                </div>
                <div id="modifyImagePreviewContainer"></div><br>
                <button type="button" id="addSpaceModify" class="btn btn-add-space">Add Space ID</button><br />
                <div id="spacesModificationContainer">
                    <div class="spaceRowModify">
                        <input type="text" class="modifySpaceID" name="spaceID[]" placeholder="Space ID">
                        <input type="text" class="modifyTimeLimit" name="modifytimeLimit[]" placeholder="Modify Time Limit">
                        <button id="deleteSpace" type="button" class="btn btn-danger">Delete Space</button>
                    </div>
                </div>

                <button id="modifyTimeLimits" type="submit" class="btn btn-modify">Modify Time Limits</button>
            </form>
        </div>
    </div>-->

    </section>

    <footer>
        <p>Designed and Developed by the PixelPals Team</p>
    </footer>

    <template id="reservation-detail-template">
        <label class="reservationID">ReservationID:</label>
        <label id="labelReservationID" class="reservation-ID"></label>
        <br>
        <label class="companyName">CompanyName:</label>
        <label id="labelCompany" class="company-Name"></label>
        <br>
        <label class="company-id">CompanyID:</label>
        <label id="labelCompanyID" class="company-ID"></label>
        <br>
        <label class="companyAddress">Address:</label>
        <label id="labelAddress" class="company-address"></label>
        <br>
        <label class="plan-id">Floor Plan ID: </label>
        <label id="labelFloorPlanID" class="floor-plan-ID"></label>
        <label class="space-id">-</label>
        <label id="labelSpaceID" class="Space-ID"></label>
        <br>
        <label class="reservation-date">Reservation Date:</label>
        <label id="labelReservationDate" class="reservation-date-class"></label>
        <br>
        <label class="reservation-start">Reservation Time:</label>
        <label id="labelReservationTimeStart" class="reservation-time-start"></label>
        <label class="reservation-end">-</label>
        <label id="labelReservationTimeEnd" class="reservation-time-end"></label>
        <br>
        <label id="labelStatus" class="reservation-status"></label>
        <br>
        <br>
        <br>
    </template>

    <script src="script.js"></script>
    <script src="taskManagerHubView.js"></script>
    <script src="waitlistScript.js"></script>
    <script src="PersonalOverviewFunctions.js"></script>
    <script src="spaceBookingCenter.js"></script>
    <!--<script src="../SpaceManager/pages/SpaceManager.js"></script>-->
    

</body>

</html>

